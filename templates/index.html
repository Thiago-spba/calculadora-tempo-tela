<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Tempo de Tela | Consci√™ncia Digital</title>

    <!-- Meta Tags para SEO -->
    <meta name="description"
        content="Descubra quanto tempo voc√™ perde nas telas. Calcule seu tempo de tela e promova sua sa√∫de digital.">
    <meta name="keywords" content="tempo de tela, sa√∫de digital, calculadora, telas, bem-estar">

    <!-- Open Graph para compartilhamento (Facebook, WhatsApp) -->
    <meta property="og:title" content="Calculadora de Tempo de Tela - Consci√™ncia Digital">
    <meta property="og:description"
        content="üò∞ Quanto tempo voc√™ REALMENTE perde nas telas? Descubra agora e promova sua sa√∫de digital!">
    <meta property="og:image" content="https://i.imgur.com/5QzN8vQ.png">
    <meta property="og:url" content="https://seu-site.vercel.app">
    <meta property="og:type" content="website">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Calculadora de Tempo de Tela">
    <meta name="twitter:description" content="üò∞ Quanto tempo voc√™ perde nas telas? Fa√ßa o teste!">
    <meta name="twitter:image" content="https://i.imgur.com/5QzN8vQ.png">

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#667eea">
    <link rel="apple-touch-icon" href="/static/icons/icon-192x192.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
</head>

<body>
    <header class="text-center py-5 header-gradient">
        <div class="container">
            <h1 class="display-4 fw-bold animate-fade-in">üì± Calculadora de Tempo de Tela</h1>
            <p class="lead text-white animate-fade-in-delay">Descubra o impacto dos dispositivos na sua vida e promova
                sua sa√∫de digital.</p>
        </div>
    </header>

    <main class="container">
        <!-- CARD MELHORADO -->
        <section id="calculadora" class="card shadow-lg mb-5 card-hover">
            <div class="card-body p-5">
                <h2 class="card-title text-center mb-4">
                    <i class="fas fa-calculator me-2"></i>Calcule seu Impacto Digital
                </h2>

                <p class="text-center text-muted mb-4">
                    <i class="fas fa-info-circle me-2"></i>Quanto tempo voc√™ passa em telas por dia?
                </p>

                <form id="calculator-form">
                    <div class="row g-3 justify-content-center align-items-end">
                        <!-- Campo Horas -->
                        <div class="col-md-3">
                            <label for="horas" class="form-label fw-bold">
                                <i class="fas fa-clock text-primary me-2"></i>Horas
                            </label>
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bg-primary text-white">
                                    <i class="fas fa-hourglass-start"></i>
                                </span>
                                <input type="number" class="form-control" id="horas" name="horas" placeholder="Ex: 5"
                                    required min="0" max="24" step="1" value="0">
                            </div>
                        </div>

                        <!-- Campo Minutos -->
                        <div class="col-md-3">
                            <label for="minutos" class="form-label fw-bold">
                                <i class="fas fa-stopwatch text-success me-2"></i>Minutos
                            </label>
                            <div class="input-group input-group-lg">
                                <span class="input-group-text bg-success text-white">
                                    <i class="fas fa-hourglass-half"></i>
                                </span>
                                <input type="number" class="form-control" id="minutos" name="minutos"
                                    placeholder="Ex: 30" required min="0" max="59" step="1" value="0">
                            </div>
                        </div>

                        <!-- Bot√£o Calcular -->
                        <div class="col-md-4">
                            <button type="submit" class="btn btn-primary btn-lg w-100 fw-bold btn-pulse btn-gradiente">
                                <i class="fas fa-rocket me-2"></i>Descobrir Meu Impacto
                            </button>
                        </div>
                    </div>

                    <!-- Feedback em tempo real -->
                    <div class="text-center mt-3">
                        <small class="text-muted">
                            <i class="fas fa-lightbulb text-warning me-2"></i>
                            <span id="total-preview">Digite os valores para ver o total</span>
                        </small>
                    </div>
                </form>
            </div>
        </section>

        <section id="resultados" class="d-none">
            <h2 class="text-center mb-4"><i class="fas fa-poll me-2"></i>Seu Diagn√≥stico Digital</h2>

            <!-- Mensagem Personalizada -->
            <div id="mensagem-personalizada" class="alert alert-info text-center mb-4 slide-in">
                <i class="fas fa-info-circle me-2"></i>
                <strong id="texto-mensagem"></strong>
            </div>

            <!-- Bot√£o Compartilhar -->
            <div class="text-center mb-4">
                <button id="btn-compartilhar" class="btn btn-success btn-lg">
                    <i class="fas fa-share-alt me-2"></i>Compartilhar Resultado
                </button>
            </div>

            <div class="row g-4">
                <div class="col-md-5">
                    <div id="card-classificacao" class="card text-center text-white shadow-sm h-100 card-scale">
                        <div class="card-body p-4 d-flex flex-column justify-content-center">
                            <h3 class="card-title"><i class="fas fa-signal me-2"></i>N√≠vel de Uso</h3>
                            <p class="display-5 fw-bold mb-0 contador-animado" id="classificacao-valor"></p>
                        </div>
                    </div>
                </div>

                <div class="col-md-7">
                    <div class="card h-100 card-scale">
                        <div class="card-body">
                            <h5 class="card-title text-center"><i class="fas fa-clock me-2"></i>Sua Rotina de 24h</h5>
                            <canvas id="grafico-rotina"></canvas>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card text-center card-hover">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-calendar-alt me-2 text-primary"></i>Por Ano</h5>
                            <p class="card-text display-6 fw-bold text-primary contador-animado" id="tempo-ano"
                                data-valor="0">0</p>
                            <p class="text-muted mb-0">horas</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card text-center card-hover">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-calendar me-2 text-success"></i>Por M√™s</h5>
                            <p class="card-text display-6 fw-bold text-success contador-animado" id="tempo-mes"
                                data-valor="0">0</p>
                            <p class="text-muted mb-0">horas</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card text-center card-hover">
                        <div class="card-body">
                            <h5 class="card-title"><i class="fas fa-hourglass-half me-2 text-warning"></i>Equivalente a
                            </h5>
                            <p class="card-text display-6 fw-bold text-warning contador-animado" id="dias-perdidos"
                                data-valor="0">0</p>
                            <p class="text-muted mb-0">dias/ano</p>
                        </div>
                    </div>
                </div>

                <!-- Card de Compara√ß√£o Visual -->
                <div class="col-12">
                    <div class="card card-hover">
                        <div class="card-body">
                            <h5 class="card-title text-center mb-4">
                                <i class="fas fa-chart-bar me-2"></i>Compara√ß√£o com a M√©dia Nacional
                            </h5>
                            <canvas id="grafico-comparacao"></canvas>
                            <p class="text-center mt-3 mb-0">
                                <span id="emoji-comparacao" class="fs-3"></span>
                                <strong id="texto-comparacao" class="ms-2"></strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="educativo" class="my-5 py-5">
            <h2 class="text-center mb-5"><i class="fas fa-lightbulb me-2"></i>Dicas para uma Vida Digital Saud√°vel</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card h-100 shadow-sm card-hover">
                        <div class="card-body text-center">
                            <div id="animacao-cerebro"></div>
                            <h5 class="card-title mt-3"><i class="fas fa-brain me-2 text-danger"></i>Impactos na Sa√∫de
                            </h5>
                            <p class="card-text">O uso excessivo pode causar fadiga ocular, dist√∫rbios do sono e
                                problemas de postura.</p>
                            <a href="/saude" class="btn btn-outline-danger btn-sm mt-2">
                                <i class="fas fa-info-circle me-1"></i>Saiba Mais
                            </a>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card h-100 shadow-sm card-hover">
                        <div class="card-body text-center">
                            <i class="fas fa-check-circle text-success fa-4x mb-3"></i>
                            <h5 class="card-title"><i class="fas fa-heartbeat me-2 text-success"></i>Tempo Recomendado
                                (OMS)</h5>
                            <p class="card-text">Para adultos, equilibre online com offline. Para crian√ßas e
                                adolescentes, limite de 1 a 2 horas di√°rias.</p>
                            <a href="/tempo-recomendado" class="btn btn-outline-success btn-sm mt-2">
                                <i class="fas fa-info-circle me-1"></i>Saiba Mais
                            </a>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="card h-100 shadow-sm card-hover">
                        <div class="card-body text-center">
                            <i class="fas fa-star text-warning fa-4x mb-3"></i>
                            <h5 class="card-title"><i class="fas fa-magic me-2 text-warning"></i>Dicas Pr√°ticas</h5>
                            <p class="card-text">Ative lembretes de pausa, defina "zonas sem celular" e desative
                                notifica√ß√µes n√£o essenciais.</p>
                            <a href="/dicas" class="btn btn-outline-warning btn-sm mt-2">
                                <i class="fas fa-info-circle me-1"></i>Saiba Mais
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center py-4 mt-5 border-top">
        <p class="mb-2"><i class="fas fa-graduation-cap me-2"></i>Projeto de Extens√£o "Tempo de Tela: Consci√™ncia
            Digital"</p>
        <p class="mb-0">
            <i class="fas fa-users me-2"></i>
            <strong>Pessoas impactadas por este projeto:
                <span class="badge bg-success badge-pulse contador-animado" id="contador-impacto">{{ total_acessos
                    }}</span>
            </strong>
        </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>

    <!-- Registrar Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(reg => console.log('Service Worker registrado'))
                .catch(err => console.log('Erro ao registrar Service Worker', err));
        }
    </script>
</body>

</html>